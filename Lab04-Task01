.text
.globl main
main:


jal x1, fact
j exit


fact:
addi sp, sp, -12
sw x7, 8(sp) #push fact
sw x6, 4(sp) #push n
sw x5, 0(sp) #push i    


li x5, 1 #i=1  
li x6, 5 #n=5
li x7, 1 #fact=1


for:
mul x7, x7, x5 #fact=fact*i
addi x5,x5, 1 #i++
ble x5, x6, for #if i<=n then keep looping


addi x10, x7, x0 #save in x10 to return


lw x5, 0(sp) #push i  
lw x6, 4(sp) #push n
lw x7, 8(sp) #push fact


addi sp, sp, 12 #else pop from stack

jalr x0, 0(x1)

exit:
    j exit



